<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>„É≠„Ç∞„Ç§„É≥</title>

    <style>
      body {
        font-family: sans-serif;
        padding: 2rem;
      }
      input {
        padding: 0.5rem;
        font-size: 1rem;
      }
      button {
        padding: 0.5rem 1rem;
        font-size: 1rem;
        margin-left: 0.5rem;
        cursor: pointer;
      }
      #message {
        margin-top: 1rem;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <input type="password" id="passwordInput" placeholder="„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ" />
    <button id="loginBtn">„É≠„Ç∞„Ç§„É≥</button>
    <button id="toggleVisibilityBtn" aria-label="„Éë„Çπ„ÉØ„Éº„ÉâË°®Á§∫ÂàáÊõø">üëÅÔ∏è</button>
    <p id="message"></p>

    <script>
      const pwInput = document.getElementById('passwordInput');
      const toggleBtn = document.getElementById('toggleVisibilityBtn');
      const loginBtn = document.getElementById('loginBtn');
      const message = document.getElementById('message');

      //ÂÖ•ÂäõÊñáÂ≠óÊï∞„ÇíË°®Á§∫
      function updateCharCount() {
        const pwInputLength = pwInput.value.length;
        message.textContent =
          pwInputLength > 0 ? `${pwInputLength}ÊñáÂ≠óÂÖ•Âäõ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô` : '';
      }

      //„Éë„Çπ„ÉØ„Éº„ÉâË°®Á§∫/ÈùûË°®Á§∫ÂàáÊõø
      function togglePasswordVisibility() {
        if (pwInput.type === 'password') {
          pwInput.type = 'text';
          toggleBtn.textContent = 'üôà';
        } else {
          pwInput.type = 'password';
          toggleBtn.textContent = 'üëÅÔ∏è';
        }
      }

      //„É≠„Ç∞„Ç§„É≥„ÉÅ„Çß„ÉÉ„ÇØ
      function loginCheck() {
        const pw = pwInput.value.trim();

        if (!pw) {
          setMessage(
            '„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºà„Éí„É≥„ÉàÔºö„Äåo„Äç„Åã„ÇâÂßã„Åæ„Çä„Åæ„ÅôÔºâ',
            'white'
          );
          return;
        }

        if (pw === 'open123') {
          setMessage('„É≠„Ç∞„Ç§„É≥ÊàêÂäü', 'lightgreen');
        } else {
          setMessage('„Éë„Çπ„ÉØ„Éº„Éâ„ÅåÈÅï„ÅÑ„Åæ„Åô', 'white');
        }
      }

      //„É°„ÉÉ„Çª„Éº„Ç∏„Å®ËÉåÊôØËâ≤„ÅÆË®≠ÂÆö
      function setMessage(text, bgcolor) {
        message.textContent = text;
        document.body.style.backgroundColor = bgcolor;
      }

      //„Ç§„Éô„É≥„ÉàÁôªÈå≤
      pwInput.addEventListener('input', updateCharCount);
      loginBtn.addEventListener('click', loginCheck);
      toggleBtn.addEventListener('click', togglePasswordVisibility);
      pwInput.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
          loginCheck();
        }
      });
    </script>
  </body>
</html>
